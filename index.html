<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <!-- Meta tags para compartilhamento -->
  <meta name="description" content="Quiz sobre a Portaria Normativa PROCON-SP 229/2022. 10 quest√µes di√°rias!">
  <meta property="og:title" content="üìã Quiz Portaria PROCON 229/2022">
  <meta property="og:description" content="Teste seus conhecimentos sobre a Portaria 229/2022! 10 quest√µes por dia.">
  <meta property="og:type" content="website">
  
  <title>üìã Quiz Portaria 229/2022</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: #333;
      padding: 15px;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      background: white;
      border-radius: 24px;
      padding: 25px;
      width: 100%;
      max-width: 700px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.3);
      margin: 20px auto;
    }
    h1 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 10px;
      font-size: 28px;
      font-weight: 700;
    }
    .subtitle {
      text-align: center;
      color: #7f8c8d;
      margin-bottom: 25px;
      font-size: 16px;
      line-height: 1.4;
    }
    .question-box {
      background: #f8fafc;
      padding: 25px;
      border-radius: 20px;
      margin-bottom: 25px;
      min-height: 150px;
      border: 2px solid #e2e8f0;
    }
    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }
    .question-number {
      font-weight: bold;
      color: #667eea;
      font-size: 18px;
    }
    .difficulty-badge {
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 700;
    }
    .difficulty-badge.facil { background: #dcfce7; color: #15803d; }
    .difficulty-badge.medio { background: #fef3c7; color: #b45309; }
    .difficulty-badge.desafiadora { background: #fee2e2; color: #b91c1c; }
    #question-text {
      font-size: 17px;
      line-height: 1.6;
      color: #1e293b;
      font-weight: 500;
    }
    .options {
      display: grid;
      gap: 12px;
      margin: 25px 0;
    }
    .option {
      padding: 18px 15px;
      border: 2px solid #cbd5e1;
      border-radius: 14px;
      background: white;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: left;
      font-size: 16px;
      line-height: 1.5;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      display: flex;
      gap: 12px;
    }
    .option-letter {
      font-weight: 700;
      color: #667eea;
      min-width: 25px;
    }
    .option:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      border-color: #667eea;
    }
    .option:active {
      transform: scale(0.98);
    }
    .option.correct {
      background-color: #22c55e !important;
      color: white !important;
      border-color: #16a34a !important;
      transform: scale(1.02) !important;
    }
    .option.correct .option-letter {
      color: white !important;
    }
    .option.wrong {
      background-color: #ef4444 !important;
      color: white !important;
      border-color: #b91c1c !important;
    }
    .option.wrong .option-letter {
      color: white !important;
    }
    .score-box {
      text-align: center;
      padding: 30px 20px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-radius: 20px;
      margin: 25px 0;
      font-size: 32px;
      font-weight: bold;
      box-shadow: 0 8px 25px rgba(0,0,0,0.25);
    }
    .share-box {
      background: #f0fdf4;
      border: 2px solid #22c55e;
      border-radius: 18px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }
    .share-title {
      font-weight: 700;
      color: #15803d;
      margin-bottom: 12px;
      font-size: 18px;
    }
    .share-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .share-btn {
      padding: 12px 20px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: white;
    }
    .share-btn.whatsapp { background: #25D366; }
    .share-btn.telegram { background: #0088cc; }
    .share-btn.copiar { background: #667eea; }
    .share-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .history {
      margin-top: 25px;
      padding-top: 20px;
      border-top: 2px dashed #e2e8f0;
    }
    .history-title {
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 15px;
      font-size: 20px;
      text-align: center;
    }
    .history-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .history-item {
      display: flex;
      justify-content: space-between;
      padding: 14px 20px;
      background: #f8fafc;
      border-radius: 14px;
      font-weight: 600;
      font-size: 17px;
      border-left: 4px solid #667eea;
    }
    .btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 20px;
      font-size: 20px;
      border-radius: 20px;
      cursor: pointer;
      width: 100%;
      font-weight: 700;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
    }
    .btn:active {
      transform: translateY(1px);
    }
    .feedback {
      text-align: center;
      margin: 25px 0;
      min-height: 40px;
      font-size: 24px;
      font-weight: 700;
      padding: 12px;
      border-radius: 16px;
    }
    .feedback.correct { color: #15803d; background-color: #dcfce7; }
    .feedback.wrong { color: #b91c1c; background-color: #fee2e2; }
    .improvement {
      text-align: center;
      margin-top: 20px;
      padding: 20px;
      border-radius: 18px;
      font-weight: 700;
      font-size: 20px;
    }
    .improvement.up { background-color: #dcfce7; color: #15803d; border: 3px solid #22c55e; }
    .improvement.down { background-color: #fee2e2; color: #b91c1c; border: 3px solid #ef4444; }
    .improvement.same { background-color: #fef3c7; color: #b45309; border: 3px solid #f59e0b; }
    .footer {
      text-align: center;
      margin-top: 25px;
      color: #64748b;
      font-size: 14px;
      padding-top: 15px;
      border-top: 1px solid #e2e8f0;
      line-height: 1.6;
    }
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #1e293b;
      color: white;
      padding: 16px 24px;
      border-radius: 12px;
      font-weight: 600;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      opacity: 0;
      transition: opacity 0.3s;
      z-index: 1000;
    }
    .toast.show {
      opacity: 1;
    }
    @media (max-width: 480px) {
      .container { padding: 20px 15px; }
      h1 { font-size: 24px; }
      .option { padding: 15px 12px; font-size: 15px; }
      .btn { padding: 18px; font-size: 19px; }
      #question-text { font-size: 16px; }
      .share-buttons { flex-direction: column; }
      .share-btn { width: 100%; justify-content: center; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìã Quiz Portaria 229/2022</h1>
    <div class="subtitle">Portaria Normativa PROCON-SP<br>10 quest√µes por dia ‚Ä¢ Progresso salvo automaticamente</div>
    
    <div id="start-screen">
      <button id="start-btn" class="btn">‚ñ∂Ô∏è Come√ßar Agora</button>
      
      <div class="history">
        <div class="history-title">üìà Seu Hist√≥rico (√∫ltimos 5 dias)</div>
        <div class="history-list" id="history-list">
          <div style="text-align:center;color:#64748b;padding:20px 10px;font-size:16px;">Ainda sem resultados</div>
        </div>
      </div>
    </div>
    
    <div id="quiz-screen" style="display:none;">
      <div class="question-box">
        <div class="question-header">
          <div class="question-number" id="question-number">Quest√£o 1/10</div>
          <div class="difficulty-badge" id="difficulty-badge">F√°cil</div>
        </div>
        <div id="question-text">Carregando quest√£o...</div>
      </div>
      
      <div class="feedback" id="feedback"></div>
      
      <div class="options" id="options"></div>
    </div>
    
    <div id="result-screen" style="display:none;">
      <div class="score-box" id="final-score">üèÜ 0/10 acertos</div>
      
      <div id="improvement-box" class="improvement" style="display:none;"></div>
      
      <div class="share-box">
        <div class="share-title">üì§ Compartilhe com seus colegas!</div>
        <div class="share-buttons">
          <a id="share-whatsapp" class="share-btn whatsapp" target="_blank">
            <span>üì±</span> WhatsApp
          </a>
          <a id="share-telegram" class="share-btn telegram" target="_blank">
            <span>‚úàÔ∏è</span> Telegram
          </a>
          <button id="share-copiar" class="share-btn copiar">
            <span>üìã</span> Copiar Link
          </button>
        </div>
      </div>
      
      <button id="restart-btn" class="btn">üîÑ Novo Quiz</button>
    </div>
    
    <div class="footer">
      <strong>Portaria Normativa PROCON-SP n¬∫ 229/2022</strong><br>
      50 quest√µes de m√∫ltipla escolha
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script>
    // 50 QUEST√ïES - Portaria 229/2022
    const questoes = [
      {q:"A Portaria Normativa n¬∫ 229/2022 tem por finalidade regular, no √¢mbito do PROCON-SP:",opt:["A) A atua√ß√£o judicial do √≥rg√£o em defesa coletiva","B) A concilia√ß√£o entre consumidores e fornecedores","C) A atividade fiscalizat√≥ria e o processo administrativo sancionador","D) Exclusivamente a aplica√ß√£o de penalidades pecuni√°rias","E) Apenas os procedimentos eletr√¥nicos internos"],correta:2,dificuldade:"F√°cil"},
      {q:"Segundo a Portaria, a atua√ß√£o do PROCON-SP deve obedecer, entre outros, ao princ√≠pio da:",opt:["A) Efici√™ncia econ√¥mica","B) Autotutela privada","C) Motiva√ß√£o dos atos administrativos","D) Livre concorr√™ncia","E) Razoabilidade contratual"],correta:2,dificuldade:"F√°cil"},
      {q:"A interpreta√ß√£o da norma administrativa, segundo o art. 3¬∫ da Portaria, deve priorizar:",opt:["A) A seguran√ßa jur√≠dica do fornecedor","B) A literalidade do texto normativo","C) A realiza√ß√£o do fim p√∫blico","D) O interesse econ√¥mico do consumidor","E) A aplica√ß√£o subsidi√°ria do CPC"],correta:2,dificuldade:"F√°cil"},
      {q:"O PROCON-SP somente poder√° iniciar atua√ß√£o material relacionada √† esfera jur√≠dica do fornecedor mediante:",opt:["A) Den√∫ncia formal do consumidor","B) Instaura√ß√£o de processo judicial","C) Pr√©via expedi√ß√£o de ato administrativo","D) Comunica√ß√£o eletr√¥nica autom√°tica","E) Publica√ß√£o em s√≠tio eletr√¥nico"],correta:2,dificuldade:"F√°cil"},
      {q:"Os atos fiscalizat√≥rios e o processo administrativo sancionador s√£o, como regra:",opt:["A) P√∫blicos desde a instaura√ß√£o","B) Sigilosos apenas na fase investigativa","C) Sigilosos at√© decis√£o final irrecorr√≠vel","D) P√∫blicos apenas para o consumidor","E) Sigilosos apenas para terceiros"],correta:2,dificuldade:"F√°cil"},
      {q:"O ingresso de terceiro no processo administrativo sancionador depende de:",opt:["A) Autoriza√ß√£o judicial","B) Pedido simples do interessado","C) Decis√£o motivada da Diretoria Executiva","D) Concord√¢ncia do fornecedor","E) Parecer da Diretoria de Assuntos Jur√≠dicos"],correta:2,dificuldade:"M√©dio"},
      {q:"Da decis√£o que defere ou indefere o ingresso de terceiro no processo sancionador:",opt:["A) Cabe recurso administrativo","B) Cabe recurso hier√°rquico","C) Cabe pedido de reconsidera√ß√£o","D) Cabe recurso sem efeito suspensivo","E) N√£o cabe recurso"],correta:4,dificuldade:"M√©dio"},
      {q:"Em todos os atos e termos dos atos fiscalizat√≥rios √© obrigat√≥rio o uso:",opt:["A) De linguagem t√©cnica-jur√≠dica","B) De formul√°rios padronizados","C) Da l√≠ngua portuguesa","D) De sistema eletr√¥nico","E) De linguagem acess√≠vel ao consumidor"],correta:2,dificuldade:"F√°cil"},
      {q:"Documento redigido em l√≠ngua estrangeira somente poder√° ser juntado aos autos quando:",opt:["A) Autenticado em cart√≥rio","B) Traduzido livremente","C) Acompanhado de tradu√ß√£o juramentada","D) Autorizado pela Diretoria Executiva","E) Anexado ao sistema eletr√¥nico"],correta:2,dificuldade:"F√°cil"},
      {q:"Os atos administrativos escritos devem conter, obrigatoriamente:",opt:["A) Fundamenta√ß√£o jur√≠dica completa","B) N√∫mero do processo judicial","C) Data, hor√°rio, local e assinatura da autoridade","D) Indica√ß√£o expressa da penalidade","E) Nome do consumidor reclamante"],correta:2,dificuldade:"M√©dio"},
      {q:"Nos atos administrativos produzidos eletronicamente, a assinatura ocorrer√°:",opt:["A) Por certificado digital ICP-Brasil","B) Por assinatura f√≠sica digitalizada","C) Mediante autentica√ß√£o por senha","D) Por valida√ß√£o judicial","E) Por reconhecimento cartorial"],correta:2,dificuldade:"M√©dio"},
      {q:"Os atos fiscalizat√≥rios e processuais eletr√¥nicos ser√£o praticados exclusivamente por meio do:",opt:["A) Di√°rio Oficial Eletr√¥nico","B) Portal do Fornecedor","C) Sistema PROCON-SP DIGITAL","D) Sistema e-CAC","E) Sistema SEI"],correta:2,dificuldade:"F√°cil"},
      {q:"Lavrado o Auto de Infra√ß√£o de forma eletr√¥nica, os atos processuais subsequentes:",opt:["A) Poder√£o ser f√≠sicos ou eletr√¥nicos","B) Ser√£o exclusivamente eletr√¥nicos","C) Ser√£o f√≠sicos","D) Dependem de op√ß√£o do fornecedor","E) Ser√£o h√≠bridos"],correta:1,dificuldade:"M√©dio"},
      {q:"Documento protocolado fora do Sistema PROCON-SP DIGITAL, nas hip√≥teses previstas na Portaria:",opt:["A) Ser√° analisado excepcionalmente","B) Ser√° convertido em eletr√¥nico","C) N√£o ser√° conhecido","D) Ser√° juntado como anexo","E) Ser√° devolvido ao fornecedor"],correta:2,dificuldade:"M√©dio"},
      {q:"Em caso de inconsist√™ncia do sistema certificada pela ATIC, o prazo legal:",opt:["A) Ser√° anulado","B) Ser√° reiniciado integralmente","C) Ser√° restitu√≠do pelo tempo faltante","D) Ser√° convertido em dias √∫teis","E) Ser√° suspenso por 30 dias"],correta:2,dificuldade:"Desafiadora"},
      {q:"A pr√°tica eletr√¥nica dos atos pode ocorrer at√©:",opt:["A) 18h do √∫ltimo dia","B) 20h do √∫ltimo dia","C) 23h59min59s do √∫ltimo dia","D) 0h do dia seguinte","E) 24h do √∫ltimo dia √∫til"],correta:2,dificuldade:"M√©dio"},
      {q:"A publicidade dos atos administrativos do PROCON-SP ocorre, como regra, por meio de:",opt:["A) Sistema eletr√¥nico","B) Comunica√ß√£o ao fornecedor","C) Di√°rio Oficial do Estado","D) Edital eletr√¥nico","E) Portal do Consumidor"],correta:2,dificuldade:"F√°cil"},
      {q:"Despachos de mero expediente:",opt:["A) Devem ser publicados","B) S√£o publicados apenas se houver recurso","C) N√£o necessitam de publica√ß√£o","D) Exigem ci√™ncia do fornecedor","E) S√£o publicados no sistema digital"],correta:2,dificuldade:"F√°cil"},
      {q:"√â √¥nus do fornecedor informar ao PROCON-SP:",opt:["A) Apenas endere√ßo f√≠sico","B) Apenas endere√ßo eletr√¥nico","C) Endere√ßo f√≠sico e eletr√¥nico atualizados","D) Endere√ßo constante do CNPJ apenas","E) Endere√ßo judicial"],correta:2,dificuldade:"M√©dio"},
      {q:"A cita√ß√£o do fornecedor no processo administrativo sancionador ser√° obrigatoriamente:",opt:["A) Eletr√¥nica","B) Por edital","C) Pessoal ou por carta com AR","D) Por sistema digital","E) Por publica√ß√£o oficial"],correta:2,dificuldade:"F√°cil"},
      {q:"N√£o localizado o autuado para cita√ß√£o pessoal ou por correspond√™ncia, a cita√ß√£o ser√° feita:",opt:["A) Por sistema eletr√¥nico","B) Por publica√ß√£o no site","C) Por edital","D) Por despacho interno","E) Por notifica√ß√£o simples"],correta:2,dificuldade:"M√©dio"},
      {q:"Os prazos na Portaria s√£o contados:",opt:["A) Em dias √∫teis","B) Em dias corridos","C) Em dias alternados","D) Em dias √∫teis administrativos","E) Conforme o CPC"],correta:1,dificuldade:"F√°cil"},
      {q:"Exclui-se da contagem do prazo:",opt:["A) O dia do vencimento","B) O dia da ci√™ncia","C) O primeiro dia √∫til","D) O √∫ltimo dia √∫til","E) O dia da publica√ß√£o"],correta:1,dificuldade:"M√©dio"},
      {q:"O representante legal do fornecedor poder√° atuar:",opt:["A) Apenas pessoalmente","B) Apenas por advogado","C) Diretamente, por procurador ou preposto","D) Somente por preposto","E) Apenas por procurador judicial"],correta:2,dificuldade:"F√°cil"},
      {q:"O PROCON-SP DIGITAL √© acessado por:",opt:["A) Qualquer interessado","B) Apenas servidores p√∫blicos","C) Representantes legais, procuradores ou prepostos","D) Consumidores reclamantes","E) Advogados externos"],correta:2,dificuldade:"M√©dio"},
      {q:"O c√≥digo de acesso ao sistema permite:",opt:["A) Acesso irrestrito ao processo","B) Apenas visualiza√ß√£o do documento vinculado","C) Pr√°tica de atos processuais","D) Protocolo de defesa","E) Acesso a todos os autos"],correta:1,dificuldade:"M√©dio"},
      {q:"A atividade fiscalizat√≥ria compreende:",opt:["A) Apenas aplica√ß√£o de multa","B) Atos judiciais e administrativos","C) Atos administrativos voltados √† apura√ß√£o de infra√ß√£o","D) Atos conciliat√≥rios","E) Atos de defesa do consumidor"],correta:2,dificuldade:"F√°cil"},
      {q:"Constituem instrumentos fiscalizat√≥rios, EXCETO:",opt:["A) Auto de Constata√ß√£o","B) Registro de Fiscaliza√ß√£o","C) Auto de Apreens√£o","D) Termo de Ajustamento de Conduta","E) Auto de Infra√ß√£o"],correta:3,dificuldade:"M√©dio"},
      {q:"O Auto de Constata√ß√£o tem como finalidade:",opt:["A) Aplicar penalidade","B) Solicitar documentos","C) Constatar situa√ß√£o de poss√≠vel infra√ß√£o","D) Julgar o processo","E) Encerrar a fiscaliza√ß√£o"],correta:2,dificuldade:"F√°cil"},
      {q:"A Averigua√ß√£o Preliminar √© caracterizada como procedimento:",opt:["A) P√∫blico e contradit√≥rio","B) Sigiloso e inquisitorial","C) Judicial e recursal","D) Conciliat√≥rio","E) Definitivo"],correta:1,dificuldade:"M√©dio"},
      {q:"O processo administrativo sancionador inicia-se com:",opt:["A) A den√∫ncia do consumidor","B) A Averigua√ß√£o Preliminar","C) A lavratura do Auto de Infra√ß√£o","D) A cita√ß√£o do fornecedor","E) A decis√£o da Diretoria"],correta:2,dificuldade:"F√°cil"},
      {q:"O prazo para o fornecedor pagar a penalidade-base ou apresentar defesa √© de:",opt:["A) 5 dias","B) 7 dias","C) 10 dias","D) 15 dias","E) 30 dias"],correta:3,dificuldade:"F√°cil"},
      {q:"O pagamento √† vista da penalidade-base gera desconto de:",opt:["A) 10%","B) 15%","C) 20%","D) 25%","E) 30%"],correta:4,dificuldade:"M√©dio"},
      {q:"O pagamento da multa implica:",opt:["A) Suspens√£o do processo","B) Confiss√£o do d√©bito e da infra√ß√£o","C) Possibilidade de recurso","D) Redu√ß√£o autom√°tica da penalidade","E) Convers√£o em advert√™ncia"],correta:1,dificuldade:"M√©dio"},
      {q:"A defesa administrativa deve conter:",opt:["A) Apenas provas documentais","B) Apenas fundamentos jur√≠dicos","C) Fatos e fundamentos de direito","D) Pedido gen√©rico","E) Declara√ß√£o simples"],correta:2,dificuldade:"F√°cil"},
      {q:"Compete √† Diretoria de Assuntos Jur√≠dicos:",opt:["A) Despachos de mero expediente","B) Decis√µes de m√©rito em primeira inst√¢ncia","C) Julgamento de recursos","D) Lavratura de autos","E) Atos de fiscaliza√ß√£o"],correta:1,dificuldade:"M√©dio"},
      {q:"O prazo para interposi√ß√£o de recurso √© de:",opt:["A) 5 dias","B) 7 dias","C) 10 dias","D) 15 dias","E) 30 dias"],correta:3,dificuldade:"F√°cil"},
      {q:"O recurso, como regra, √© recebido com efeitos:",opt:["A) Apenas devolutivo","B) Apenas suspensivo","C) Devolutivo e suspensivo","D) Translativo","E) Interruptivo"],correta:2,dificuldade:"M√©dio"},
      {q:"O recurso n√£o ser√° conhecido quando:",opt:["A) Interposto fora do prazo","B) Mal fundamentado","C) Contr√°rio √† jurisprud√™ncia","D) Sem pedido expresso","E) Com provas insuficientes"],correta:0,dificuldade:"M√©dio"},
      {q:"A decis√£o em grau de recurso n√£o poder√°:",opt:["A) Manter a penalidade","B) Reformar a decis√£o","C) Agravar a restri√ß√£o","D) Anular o processo","E) Reconhecer nulidade"],correta:2,dificuldade:"M√©dio"},
      {q:"Ap√≥s decis√£o final, o autuado ser√° intimado para pagar a multa no prazo de:",opt:["A) 5 dias","B) 7 dias","C) 10 dias","D) 15 dias","E) 30 dias"],correta:3,dificuldade:"F√°cil"},
      {q:"O n√£o pagamento da multa enseja:",opt:["A) Arquivamento do processo","B) Nova notifica√ß√£o","C) Protesto e inscri√ß√£o em d√≠vida ativa","D) Convers√£o em advert√™ncia","E) Suspens√£o autom√°tica da atividade"],correta:2,dificuldade:"M√©dio"},
      {q:"A multa administrativa tem seus limites atualizados monetariamente com base no:",opt:["A) IPCA","B) INPC","C) IPCA-E","D) UFESP","E) SELIC"],correta:2,dificuldade:"Desafiadora"},
      {q:"A dosimetria da multa considera, entre outros crit√©rios:",opt:["A) Grau de culpa","B) Capacidade t√©cnica do fornecedor","C) Crit√©rios do art. 57 do CDC","D) Reclama√ß√µes anteriores","E) Porte econ√¥mico fixo"],correta:2,dificuldade:"Desafiadora"},
      {q:"A penalidade de contrapropaganda √© aplic√°vel quando houver:",opt:["A) V√≠cio do produto","B) Descumprimento contratual","C) Publicidade enganosa ou abusiva","D) Reincid√™ncia gen√©rica","E) Falta de informa√ß√£o"],correta:2,dificuldade:"M√©dio"},
      {q:"A suspens√£o tempor√°ria da atividade poder√° ser aplicada quando houver:",opt:["A) Infra√ß√£o leve","B) Primeira autua√ß√£o","C) Reincid√™ncia em infra√ß√µes de maior gravidade","D) Descumprimento formal","E) Falta de defesa"],correta:2,dificuldade:"M√©dio"},
      {q:"As medidas cautelares podem ser aplicadas:",opt:["A) Apenas ap√≥s decis√£o final","B) Apenas judicialmente","C) Em car√°ter antecedente ou incidental","D) Somente ap√≥s defesa","E) Apenas com recurso"],correta:2,dificuldade:"M√©dio"},
      {q:"O descumprimento de medida cautelar pode caracterizar:",opt:["A) Crime de fraude","B) Crime de desobedi√™ncia","C) Il√≠cito civil apenas","D) Falta administrativa leve","E) Irregularidade san√°vel"],correta:1,dificuldade:"Desafiadora"},
      {q:"As normas processuais da Portaria aplicam-se:",opt:["A) Apenas a processos novos","B) Apenas a processos arquivados","C) Imediatamente aos processos em andamento","D) Somente ap√≥s tr√¢nsito em julgado","E) Apenas se favor√°veis ao fornecedor"],correta:2,dificuldade:"M√©dio"},
      {q:"A Portaria Normativa n¬∫ 229/2022:",opt:["A) Revoga parcialmente normas anteriores","B) Revoga integralmente a Portaria n¬∫ 57/2019","C) Complementa a Portaria n¬∫ 51/2018","D) Tem vig√™ncia condicionada","E) Aplica-se apenas a novos processos"],correta:1,dificuldade:"M√©dio"}
    ];

    // Embaralhamento Fisher-Yates
    function embaralhar(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // Estado do jogo
    let estado = {
      acertos: 0,
      respondidas: 0,
      questoesEmbaralhadas: [],
      data: new Date().toISOString().split('T')[0]
    };

    function carregarEstado() {
      const salvo = localStorage.getItem('quiz_portaria229_estado_v1');
      if (salvo) {
        const s = JSON.parse(salvo);
        const hoje = new Date().toISOString().split('T')[0];
        if (s.data === hoje && s.questoesEmbaralhadas && s.questoesEmbaralhadas.length === 10) {
          estado = s;
        } else {
          estado = { 
            acertos: 0, 
            respondidas: 0, 
            questoesEmbaralhadas: embaralhar(questoes).slice(0, 10),
            data: hoje 
          };
        }
      } else {
        estado.questoesEmbaralhadas = embaralhar(questoes).slice(0, 10);
      }
    }

    function salvarEstado() {
      localStorage.setItem('quiz_portaria229_estado_v1', JSON.stringify(estado));
    }

    function carregarHistorico() {
      return JSON.parse(localStorage.getItem('quiz_portaria229_historico_v1') || '{}');
    }

    function salvarHistorico(h) {
      localStorage.setItem('quiz_portaria229_historico_v1', JSON.stringify(h));
    }

    function mostrarToast(msg) {
      const toast = document.getElementById('toast');
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2500);
    }

    function mostrarTela(tela) {
      document.getElementById('start-screen').style.display = tela === 'start' ? 'block' : 'none';
      document.getElementById('quiz-screen').style.display = tela === 'quiz' ? 'block' : 'none';
      document.getElementById('result-screen').style.display = tela === 'result' ? 'block' : 'none';
    }

    function proximaQuestao() {
      if (estado.respondidas >= 10) {
        finalizar();
        return;
      }

      const q = estado.questoesEmbaralhadas[estado.respondidas];
      
      document.getElementById('question-number').textContent = `Quest√£o ${estado.respondidas + 1}/10`;
      document.getElementById('question-text').textContent = q.q;
      document.getElementById('feedback').textContent = '';
      
      const badge = document.getElementById('difficulty-badge');
      badge.textContent = q.dificuldade;
      badge.className = 'difficulty-badge ' + q.dificuldade.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
      
      const ops = document.getElementById('options');
      ops.innerHTML = '';
      
      q.opt.forEach((opcao, idx) => {
        const btn = document.createElement('div');
        btn.className = 'option';
        btn.innerHTML = `<span class="option-letter">${String.fromCharCode(65 + idx)})</span><span>${opcao.substring(3)}</span>`;
        btn.onclick = () => responder(idx, q.correta);
        ops.appendChild(btn);
      });
    }

    function responder(escolha, correta) {
      const acertou = escolha === correta;
      
      document.querySelectorAll('.option').forEach((btn, idx) => {
        if (idx === correta) btn.classList.add('correct');
        if (idx === escolha && !acertou) btn.classList.add('wrong');
        btn.onclick = null;
      });

      const fb = document.getElementById('feedback');
      fb.textContent = acertou ? '‚úÖ CORRETO!' : `‚ùå ERRADO! Resposta: ${String.fromCharCode(65 + correta)}`;
      fb.className = `feedback ${acertou ? 'correct' : 'wrong'}`;

      if (acertou) estado.acertos++;
      estado.respondidas++;
      salvarEstado();
      
      setTimeout(() => {
        if (estado.respondidas < 10) {
          proximaQuestao();
        } else {
          finalizar();
        }
      }, 1500);
    }

    function finalizar() {
      const hist = carregarHistorico();
      hist[estado.data] = {a: estado.acertos, t: 10};
      salvarHistorico(hist);

      document.getElementById('final-score').textContent = `üèÜ ${estado.acertos}/10 acertos`;
      
      const url = window.location.href;
      const texto = `üìã Quiz Portaria 229/2022 - Fiz ${estado.acertos}/10 pontos!\n\nTeste seus conhecimentos sobre a Portaria Normativa PROCON-SP 229/2022`;
      
      document.getElementById('share-whatsapp').href = `https://wa.me/?text=${encodeURIComponent(texto + '\n\n' + url)}`;
      document.getElementById('share-telegram').href = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(texto)}`;
      
      const dias = Object.keys(hist).sort((a,b) => new Date(b) - new Date(a));
      const hojeIdx = dias.indexOf(estado.data);
      const imp = document.getElementById('improvement-box');
      
      if (hojeIdx >= 0 && dias[hojeIdx + 1]) {
        const ant = hist[dias[hojeIdx + 1]].a;
        const diff = estado.acertos - ant;
        if (diff > 0) {
          imp.textContent = `‚¨ÜÔ∏è Melhor que ontem (+${diff})!`;
          imp.className = 'improvement up';
        } else if (diff < 0) {
          imp.textContent = `‚¨áÔ∏è Pior que ontem (${diff})`;
          imp.className = 'improvement down';
        } else {
          imp.textContent = '‚û°Ô∏è Empatou com ontem!';
          imp.className = 'improvement same';
        }
        imp.style.display = 'block';
      } else {
        imp.style.display = 'none';
      }

      mostrarTela('result');
      atualizarHistorico();
    }

    function atualizarHistorico() {
      const hist = carregarHistorico();
      const dias = Object.keys(hist).sort((a,b) => new Date(b) - new Date(a)).slice(0,5);
      const list = document.getElementById('history-list');
      
      if (dias.length === 0) {
        list.innerHTML = '<div style="text-align:center;color:#64748b;padding:20px 10px;font-size:16px;">Ainda sem resultados</div>';
        return;
      }

      let html = '';
      dias.forEach(d => {
        const a = hist[d].a, t = hist[d].t, p = Math.round(a/t*100);
        const cor = a >= 8 ? '#22c55e' : a >= 5 ? '#f59e0b' : '#ef4444';
        html += `<div class="history-item">
          <span>${d.slice(8)}/${d.slice(5,7)}</span>
          <span style="color:${cor}">${a}/${t} (${p}%)</span>
        </div>`;
      });
      list.innerHTML = html;
    }

    document.addEventListener('DOMContentLoaded', () => {
      carregarEstado();
      atualizarHistorico();

      if (estado.respondidas >= 10) {
        finalizar();
        return;
      }

      document.getElementById('start-btn').onclick = () => {
        mostrarTela('quiz');
        proximaQuestao();
      };

      document.getElementById('restart-btn').onclick = () => {
        const hoje = new Date().toISOString().split('T')[0];
        estado = { 
          acertos: 0, 
          respondidas: 0, 
          questoesEmbaralhadas: embaralhar(questoes).slice(0, 10),
          data: hoje 
        };
        salvarEstado();
        mostrarTela('start');
      };

      document.getElementById('share-copiar').onclick = () => {
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
          mostrarToast('‚úÖ Link copiado!');
        }).catch(() => {
          mostrarToast('‚ùå Erro ao copiar');
        });
      };
    });
  </script>
</body>
</html>
